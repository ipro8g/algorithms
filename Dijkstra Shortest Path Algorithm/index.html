<!doctype html>
<head></head>
<body>

<script>

    const cities = [
        {
            "index":0,
            "connected":[
                {
                    "index":3,
                    "distance":1
                },
                {
                    "index":1,
                    "distance":6
                }
            ]
        },
        {
            "index":1,
            "connected":[
                {
                    "index":0,
                    "distance":6
                },
                {
                    "index":2,
                    "distance":5
                },
                {
                    "index":3,
                    "distance":2
                },
                {
                    "index":4,
                    "distance":2
                }
            ]
        },
        {
            "index":2,
            "connected":[
                {
                    "index":1,
                    "distance":5
                },
                {
                    "index":4,
                    "distance":5
                }
            ]
        },
        {
            "index":3,
            "connected":[
                {
                    "index":0,
                    "distance":1
                },
                {
                    "index":4,
                    "distance":1
                }
            ]
        },
        {
            "index":4,
            "connected":[
                {
                    "index":1,
                    "distance":2
                },
                {
                    "index":2,
                    "distance":5
                },
                {
                    "index":3,
                    "distance":1
                }
            ]
        }
    ];
    
    
    
    console.log(simulate(cities, 0, 2));
    
function simulate(cities, start, end){

    let end_flag = false;
    let path = [];
    let walked = 0;
    
    const option = random_int(0,cities[start].connected.length-1);
    
    path.push(0);
    path.push(cities[start].connected[option].index);
    walked += cities[start].connected[option].distance;
    
    while(!end_flag){
        
        const option2 = random_int(0,cities[cities[start].connected[option].index].connected.length-1);
        
        if(path.length === cities.length){
        
            break;
        }else if(path.includes(cities[cities[start].connected[option].index].connected[option2].index)){
        
            continue;
        }
        
        path.push(cities[cities[start].connected[option].index].connected[option2].index);
        walked += cities[cities[start].connected[option].index].connected[option2].distance;
        
        if(cities[cities[start].connected[option].index].connected[option2].index === end){
        
            break;
        }
    }
    
    
    
    const ob = {
        "path":path,
        "walked":walked
    }
    
    return ob;
}

function random_int(min, max) {

    let floor = Math.ceil(min);
    let coil = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
</script>

</body>
</html>
